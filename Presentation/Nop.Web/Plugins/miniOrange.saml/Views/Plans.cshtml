@model Nop.Plugin.miniorange.saml.Models.PlansModel
@{
    Layout = "_ConfigurePlugin";
}

@{
    string adminkey = "";
    string adminemail = "";
    if (!String.IsNullOrEmpty(Model.admincustomerkey))
        adminkey = Model.admincustomerkey;

    if (!String.IsNullOrEmpty(Model.adminemail))
        adminemail = Model.adminemail;
}

<html>
<head>
    <script src="~/Plugins/miniOrange.saml/Scripts/moplugin.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <link href="~/Plugins/miniOrange.saml/Content/mosamlmain.css" rel="stylesheet" type="text/css" />
    <style>
        .mo-saml-licensing-container {
            margin: 0 auto;
            padding: 10px;
        }

        .mo-saml-licensing-header {
            /* text-align: center; */
        }

        .moct-align-left {
            text-align: left;
        }

        .moct-align-right {
            text-align: right;
        }

        .moct-align-center {
            text-align: center;
            width: 35%;
        }

        .moc-licensing-notice {
            width: 90%;
            margin-top: 5%;
        }

        .moc-licensing-plan-header {
            font-size: 32px;
            font-variant: small-caps;
            border-radius: 1rem 1rem 0px 0px;
        }

            .moc-licensing-plan-header hr {
                margin: 1.5rem 0;
            }

        .moc-licensing-plan-feature-list {
            font-size: 15px;
            padding-top: 10px;
        }

            .moc-licensing-plan-feature-list li {
                text-align: left;
                padding: 10px;
                border: none;
                list-style-type: none;
            }

                .moc-licensing-plan-feature-list li:nth-child(even) {
                    background-color: #f0f0f0;
                }

        .moc-licensing-plan-usp {
            font-size: 18px;
            font-weight: 500;
            padding-bottom: 10px;
        }

        .moc-licensing-plan-price {
            font-size: 24px;
            font-weight: 400;
        }

        .moc-licensing-plan-name {
            font-size: 32px;
            font-weight: 500;
        }

        .moc-licensing-plan {
            border-radius: 1rem;
            border: 1px solid #222d32;
            margin: 0.5rem 0;
            box-shadow: 0 4px 8px 0 rgba(0,0,0,0.4);
            transition: 0.3s;
        }

            .moc-licensing-plan:hover {
                margin-top: -.25rem;
                margin-bottom: .25rem;
                /* border: 1px solid #17a2b8; */
                border: 1px solid rgb(112, 165, 245);
                box-shadow: 0 16px 32px 0 rgba(112, 165, 245, 0.8);
            }

                .moc-licensing-plan:hover .price-tag {
                    margin-top: -.1rem;
                    margin-bottom: .1rem;
                    /* border: 1px solid #17a2b8; */
                    border: 1px solid rgb(112, 165, 245);
                    box-shadow: 0 16px 32px 0 rgba(112, 165, 245, 0.8);
                }

        .moc-lp-buy-btn {
            border-radius: 5rem;
            letter-spacing: .1rem;
            font-weight: bold;
            padding: 1rem;
            opacity: 0.7;
        }

            .moc-lp-buy-btn:hover {
                opacity: 1;
            }

        .moc-lp-highlight {
            box-shadow: 0 16px 32px 0 #563d7c66;
            border: 1px solid #2B1251;
        }

            .moc-lp-highlight:hover {
                border: 1px solid #563d7c;
                box-shadow: 0 16px 32px 0 #563d7ccc;
            }

        .btn-purple {
            color: #ffffff;
            background: radial-gradient(circle, #563d7c, #452c6b);
            border-color: #563d7c;
        }

            .btn-purple:hover {
                background: radial-gradient(circle, #452c6b, #563d7c);
            }

        .card-body {
            -webkit-box-flex: 1;
            -ms-flex: 1 1 auto;
            flex: 1 1 auto;
            padding: 1.25rem;
            margin: 5%;
        }

        .container-fluid {
            width: 100%;
            padding-right: 15px;
            padding-left: 15px;
            margin-right: auto;
            margin-left: auto;
        }

        .row {
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -ms-flex-wrap: wrap;
            flex-wrap: wrap;
            margin-right: -15px;
            margin-left: -15px;
        }

        .price-tag {
            width: 150px;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 47px;
            border-radius: 8px 8px 0 8px;
            background: orange;
            z-index: 99;
            position: absolute;
            top: 18px;
            left: 72.1%;
        }

        .price {
            margin-top: 10px;
            color: #fff;
        }

        .product {
        }

            .product::after {
                content: '';
                position: absolute;
                border-right: 25px solid transparent;
                border-top: 10px solid orange;
                left: 81.89%;
                z-index: 0;
                top: 63px;
            }

        .justify-content-center {
            -webkit-box-pack: center !important;
            -ms-flex-pack: center !important;
            justify-content: center !important;
            .no-gutters

        {
            margin-right: 0;
            margin-left: 0;
        }

        .no-gutters > .col,
        .no-gutters > [class*='col-'] {
            padding-right: 0;
            padding-left: 0;
        }

        .col-1, .col-2, .col-3, .col-4, .col-5, .col-6, .col-7, .col-8, .col-9, .col-10, .col-11, .col-12, .col,
        .col-auto, .col-sm-1, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6, .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-10, .col-sm-11, .col-sm-12, .col-sm,
        .col-sm-auto, .col-md-1, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6, .col-md-7, .col-md-8, .col-md-9, .col-md-10, .col-md-11, .col-md-12, .col-md,
        .col-md-auto, .col-lg-1, .col-lg-2, .col-lg-3, .col-lg-4, .col-lg-5, .col-lg-6, .col-lg-7, .col-lg-8, .col-lg-9, .col-lg-10, .col-lg-11, .col-lg-12, .col-lg,
        .col-lg-auto, .col-xl-1, .col-xl-2, .col-xl-3, .col-xl-4, .col-xl-5, .col-xl-6, .col-xl-7, .col-xl-8, .col-xl-9, .col-xl-10, .col-xl-11, .col-xl-12, .col-xl,
        .col-xl-auto {
            position: relative;
            width: 100%;
            min-height: 1px;
            padding-right: 15px;
            padding-left: 15px;
        }

        .col {
            -ms-flex-preferred-size: 0;
            flex-basis: 0;
            -webkit-box-flex: 1;
            -ms-flex-positive: 1;
            flex-grow: 1;
            max-width: 100%;
        }

        .col-auto {
            -webkit-box-flex: 0;
            -ms-flex: 0 0 auto;
            flex: 0 0 auto;
            width: auto;
            max-width: none;
        }

        .col-1 {
            -webkit-box-flex: 0;
            -ms-flex: 0 0 8.3333333333%;
            flex: 0 0 8.3333333333%;
            max-width: 8.3333333333%;
        }

        .col-2 {
            -webkit-box-flex: 0;
            -ms-flex: 0 0 16.6666666667%;
            flex: 0 0 16.6666666667%;
            max-width: 16.6666666667%;
        }

        .col-3 {
            -webkit-box-flex: 0;
            -ms-flex: 0 0 25%;
            flex: 0 0 25%;
            max-width: 25%;
        }

        .col-4 {
            -webkit-box-flex: 0;
            -ms-flex: 0 0 33.3333333333%;
            flex: 0 0 33.3333333333%;
            max-width: 33.3333333333%;
        }

            .col-4:hover {
                margin-top: -.25rem;
                margin-bottom: .25rem;
                /* border: 1px solid #17a2b8; */
                border: 1px solid rgb(112, 165, 245);
                box-shadow: 0 16px 32px 0 rgba(112, 165, 245, 0.8);
            }

        .col-5 {
            -webkit-box-flex: 0;
            -ms-flex: 0 0 41.6666666667%;
            flex: 0 0 41.6666666667%;
            max-width: 41.6666666667%;
        }

        .col-6 {
            -webkit-box-flex: 0;
            -ms-flex: 0 0 50%;
            flex: 0 0 50%;
            max-width: 50%;
        }

        .col-7 {
            -webkit-box-flex: 0;
            -ms-flex: 0 0 58.3333333333%;
            flex: 0 0 58.3333333333%;
            max-width: 58.3333333333%;
        }

        .col-8 {
            -webkit-box-flex: 0;
            -ms-flex: 0 0 66.6666666667%;
            flex: 0 0 66.6666666667%;
            max-width: 66.6666666667%;
        }

        .col-9 {
            -webkit-box-flex: 0;
            -ms-flex: 0 0 75%;
            flex: 0 0 75%;
            max-width: 75%;
        }

        .col-10 {
            -webkit-box-flex: 0;
            -ms-flex: 0 0 83.3333333333%;
            flex: 0 0 83.3333333333%;
            max-width: 83.3333333333%;
        }

        .col-11 {
            -webkit-box-flex: 0;
            -ms-flex: 0 0 91.6666666667%;
            flex: 0 0 91.6666666667%;
            max-width: 91.6666666667%;
        }

        .col-12 {
            -webkit-box-flex: 0;
            -ms-flex: 0 0 100%;
            flex: 0 0 100%;
            max-width: 100%;
        }
    </style>

    <link rel='stylesheet' type='text/css' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css' />

    <script src='https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js' type='text/javascript'></script>
    <script type='text/javascript'>
        function upgradeform(planType) {
            if (jQuery('#mo_customer_registered').val() === '') {
                localStorage.setItem("PlanType", planType);
            }
            if (planType === '') {
                location.href = 'https://plugins.miniorange.com/asp-dot-net-saml-2-0-single-sign-sso-connector/';
                return;
            } else {
                jQuery('#requestOrigin').val(planType);
                if (jQuery('#mo_customer_registered').val() != '' && jQuery('#mo_customer_registered').val() != null) {
                    jQuery('#loginform').submit();
                }
                else {
                    location.href = jQuery('#mobacktoaccountsetup').attr('href');
                }
            }

        }
    </script>
</head><body>
    <main class='app-content'>
    <div class='app-title'>
                <div>
                    <h2><i class='fa fa-circle-o'></i>&nbsp;&nbsp;&nbsp;Choose Your Pricing Plan</h2>
                </div>
            </div>
    <div class='row'>
                <div class='col-md-12'>
                    <div class='tile'>
                        <div class='row'>
                            <div class='col-lg-12'>
    <div class='mo-saml-licensing-container'>
            <div class='mo-saml-licensing-header'>
                <div class='container-fluid'>
                    <div class='row'>
                        <div class='col-6 moct-align-right'>
                            &nbsp;
                        </div>
                        <div class='col-6 moct-align-right'>
                            &nbsp;
                        </div>
                    </div>

            <a style='display:none;' id='mobacktoaccountsetup' href='@Url.Action("CustomerAccountSetup", "saml")'></a>
            <input type='hidden' value='@adminkey' id='mo_customer_registered'>
             
            <form style='display:none;' id='loginform' action ='https://login.xecurify.com/moas/login' target = '_blank' method = 'post' >
             <input type = 'email' name = 'username' value ='@adminemail' >
             <input type = 'text' name = 'redirectUrl'  value = 'https://login.xecurify.com/moas/initializepayment' >      
            <input type = 'text' name = 'requestOrigin' id = 'requestOrigin' />           
                   </form>
           
                               <div class='row justify-content-center mx-15'>
                        <!-- Licensing Plans -->
                            <!-- Premium Plan -->
                            <div class='col-4 moct-align-center'>
                                <div class='moc-licensing-plan card-body'>
                                    <!-- Plan Header -->
                                    <div class='moc-licensing-plan-header'>
                                        <div class='moc-licensing-plan-name'>PREMIUM</div>
                                        <div class='moc-licensing-plan-price'>$649<sup>*</sup></div>
                                    </div>
                                    <button class='btn btn-block btn-info text-uppercase moc-lp-buy-btn' onclick=upgradeform('nopcommerce_saml_single_sign_on_premium_plan')>Buy Now</button>
                                    
                                    <!-- Plan Header End -->
                                    <!-- Plan Feature List -->
                                    <div class='moc-licensing-plan-feature-list'>
                                        <ul style="padding: 0px">
                                            <li>&#10004;&emsp;Support SAML 2.0 (SAML 2.0 compliant IDPs)</li>
                                            <li>&#10004;&emsp;Unlimited Authentications Support</li>
                                            <li>&#10004;&emsp;Basic Attribute Mapping (Username, Email)</li>
                                            <li>&#10004;&emsp;Custom Redirect URL After Login</li>
                                            <li>&#10004;&emsp;Step by Step Guides<br></li>
                                            <li>&#10004;&emsp;Login link</li>
                                            <li>&#10004;&emsp;Advanced Attribute Mapping (Firstname, Lastname)</li>
                                            <li>&#10004;&emsp;SAML Single Logout</li>
                                            <li>&#10004;&emsp;Use different Binding type</li>
                                            <li>&#10004;&emsp;Custom redirect URL after logout</li>                                            
                                            <li>&#10006;&emsp;<span class='text-muted'>**Multiple IDPs support</span></li> 
                                            <li>&#10006;&emsp;<span class='text-muted'>**Multi Store support</span></li>
                                            <li>&#10006;&emsp;<span class='text-muted'>Encrypted Assertion</span></li>
                                            <li>&#10006;&emsp;<span class='text-muted'>Custom Certificates</span></li>                                            
                                            <li>&#10006;&emsp;<span class='text-muted'>Customized Login & Logout URL</span></li>
                                        </ul>
                                    </div>
                                    <!-- Plan Feature List End -->
                                </div>
                            </div>
                            <!-- Premium Plan End -->
                            <!-- Enterprise Plan -->
                             <div class='col-4 moct-align-center'>
                                <div class='moc-licensing-plan card-body'>
                                    <div class="product">
                                        <div class="price-tag">
                                            <p class="price">Best Value</p>
                                        </div>
                                    </div>
                                    <!-- Plan Header -->
                                    <div class='moc-licensing-plan-header'>
                                        <div class='moc-licensing-plan-name'>ENTERPRISE</div>
                                        <div class='moc-licensing-plan-price'>$949<sup>*</sup></div>
                                    </div>
                                    <button class='btn btn-block btn-info text-uppercase moc-lp-buy-btn' onclick=upgradeform('nopcommerce_saml_single_sign_on_enterprise_plan')>Buy Now</button>
                                    
                                    <!-- Plan Header End -->
                                    <!-- Plan Feature List -->
                                    <div class='moc-licensing-plan-feature-list'>
                                        <ul style="padding: 0px">
                                            <li>&#10004;&emsp;Support SAML 2.0 (SAML 2.0 compliant IDPs)</li>
                                            <li>&#10004;&emsp;Unlimited Authentications Support</li>
                                            <li>&#10004;&emsp;Basic Attribute Mapping (Username, Email)</li>
                                            <li>&#10004;&emsp;Custom Redirect URL After Login</li>
                                            <li>&#10004;&emsp;Step by Step Guides<br></li>
                                            <li>&#10004;&emsp;Login link</li>
                                            <li>&#10004;&emsp;Advanced Attribute Mapping (Firstname, Lastname)</li>
                                            <li>&#10004;&emsp;SAML Single Logout</li>
                                            <li>&#10004;&emsp;Use different Binding type</li>
                                            <li>&#10004;&emsp;Custom redirect URL after logout</li>                                             
                                            <li>&#10004;&emsp;**Multiple IDPs support</li> 
                                            <li>&#10004;&emsp;**Multi Store support</li>
                                            <li>&#10004;&emsp;Encrypted Assertion</li>                                            
                                            <li>&#10004;&emsp;Custom Certificates</li>                                            
                                            <li>&#10004;&emsp;Customized Login & Logout URL</li>
                                        </ul>
                                    </div>
                                    <!-- Plan Feature List End -->
                                </div>
                            </div>
                            <!-- Enterprise Plan End -->
                           
                        <!-- Licensing Plans End -->
                        
                        <div class='moc-licensing-notice'>
                        <h5>** Multiple IdP Support -</h5>
                        <p>There is an additional cost for the number of Identity Providers you have.</p>
                            <span style='color: red;'>*</span>Cost applicable for one instance only. The license will include 12 months of free maintenance (version updates). You can renew maintenance after 12 months at 50% of the current license cost.
                        </div>
                    </div>
                </div>
            </div>
        </div>
</div></div></div></div></div>
<script>
    window.onload = function() {
              var planType = localStorage.getItem('PlanType');
              localStorage.clear();
              if(jQuery('#mo_customer_registered').val() === ''){
                  return;
              } else if(planType === '' || planType === null) {
                    return;
              } else {
                    jQuery('#requestOrigin').val(planType);
                    if(jQuery('#mo_customer_registered').val() != '' && jQuery('#mo_customer_registered').val() != null ){
                        jQuery('#loginform').submit();
                    }
                    else{
                        location.href = jQuery('#mobacktoaccountsetup').attr('href');
                    }
                }
            };
</script>
</main>
</body>
</html>